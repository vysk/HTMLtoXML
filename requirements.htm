<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <h1>Before you Begin</h1>
        <p>This section has important information before you start the installation process.</p>
        <h2>Recommended Platform</h2>
        <p MadCap:conditions="family.Conductor">See <a href="http://docwiki.cisco.com/wiki/Virtualization_for_Cisco_TelePresence_Conductor">http://docwiki.cisco.com/wiki/Virtualization_for_Cisco_TelePresence_Conductor</a> for the current list of supported UCS Tested Reference Configurations and specs-based supported platforms.</p>
        <p MadCap:conditions="family.VCS">See  <a href="http://www.cisco.com/c/dam/en/us/td/docs/voice_ip_comm/uc_system/virtualization/virtualization-cisco-expressway.html">http://www.cisco.com/c/dam/en/us/td/docs/voice_ip_comm/uc_system/virtualization/virtualization-cisco-expressway.html</a> for the current list of supported UCS Tested Reference Configurations and specs-based supported platforms.</p>
        <p MadCap:conditions="family.VCS,output.withheld"><strong>For VCS:</strong>&#160;See <a href="http://www.cisco.com/c/dam/en/us/td/docs/voice_ip_comm/uc_system/virtualization/virtualization-cisco-telepresence-video-communication-server.html">http://www.cisco.com/c/dam/en/us/td/docs/voice_ip_comm/uc_system/virtualization/virtualization-cisco-telepresence-video-communication-server.html</a> for the current list of supported UCS Tested Reference Configurations and specs-based supported platforms.</p>
        <h2>Requirements</h2>
        <p><span class="caution">WARNING:</span> <span class="caution_body">The <MadCap:variable name="call_control.VCSShort"></MadCap:variable> ova virtual appliances are designed to meet the minimum deployment requirements. Do not change the ova configuration after installation, as Cisco may no longer be able to support your deployment.</span></p>
        <p>Make sure that the following requirements are in place:</p>
        <ul>
            <li>VT is enabled in the BIOS before you install VMware ESXi.</li>
            <li>The VM host “<i>Virtual Machine Startup/Shutdown</i>” setting is configured to “<i>Allow Virtual machines to start and stop automatically with the system</i>”, and the VM <MadCap:variable name="LocalVariables.ProductShortname" /> has been moved to the Automatic startup section.</li>
        </ul>
        <p class="subhead" MadCap:conditions="family.VCS">Do not change the MAC address of the VM</p>
        <p MadCap:conditions="family.VCS">The serial number of a virtual Expressway is based on the virtual machine's MAC address. The serial number is used to validate Expressway licenses and to identify Expressways that are registered to the Cisco Webex cloud. Do not change the MAC address of the Expressway virtual machine when using VMware tools, or you risk losing service.</p>
        <p class="subhead">Use the VM .ova file for initial VM installation only</p>
        <p>The VM <MadCap:variable name="LocalVariables.ProductShortname" /> is licensed using information that is generated at the time of the .ova file installation. If the .ova was installed a second time, new licensing information would be created, and to use the new VM, new <MadCap:conditionalText MadCap:conditions="output.withheld">release and</MadCap:conditionalText> licence keys would need to be purchased. To upgrade a VM <MadCap:variable name="LocalVariables.ProductShortname" />, follow the procedure under <MadCap:xref href="../additional_information.htm#Upgradin">Upgrading a VM  [p.1]</MadCap:xref>, using the .tar.gz version of the <MadCap:variable name="LocalVariables.ProductShortname" /> software.</p>
        <p class="subhead">Take a backup after completion</p>
        <p>After the VM&#160;installation is complete, we recommend that you take a backup of the configuration (described in <MadCap:xref href="../creating_a_backup.htm">Creating a Backup of your System and Deleting Existing Snapshots, page 1</MadCap:xref>).</p>
        <MadCap:snippetBlock src="../z_call_control/snippets/c_caution-NoSnapshot.flsnp" />
        <h2>Specifications-Based System – Minimum Specification</h2>
        <p>If you use a UCS Tested Reference Configuration or specifications-based system, the minimum requirements are:</p>
        <table MadCap:conditions="family.VCS" style="caption-side: top;">
            <caption MadCap:autonum="Table 1 &#160;&#160;&#160;">Required Minimum Specifications by Deployment Size</caption>
            <col style="width: 20%;" />
            <col />
            <col />
            <col />
            <col />
            <col />
            <thead>
                <tr MadCap:conditions="">
                    <th>Deployment size</th>
                    <th>vCPU</th>
                    <th>Reserved CPU resource</th>
                    <th>Reserved RAM</th>
                    <th>Disk space</th>
                    <th>NIC</th>
                </tr>
            </thead>
            <tbody>
                <tr MadCap:conditions="">
                    <td>Small</td>
                    <td>2 core</td>
                    <td>3600 MHz
(2 x 1.8 GHz)</td>
                    <td>4 GB</td>
                    <td>132 GB
</td>
                    <td>1 Gb
</td>
                </tr>
                <tr MadCap:conditions="">
                    <td>Medium</td>
                    <td>2 core</td>
                    <td>4800 MHz
 (2 x 2.4 GHz)</td>
                    <td>6 GB</td>
                    <td>132 GB
</td>
                    <td>1 Gb
</td>
                </tr>
                <tr MadCap:conditions="">
                    <td>Large (extra performance and scalability capabilities)</td>
                    <td>8 core</td>
                    <td>
                        <p>25600 MHz
 (8 x 3.2 GHz)<sup>*</sup></p>
                    </td>
                    <td>8 GB</td>
                    <td>132 GB
</td>
                    <td>1 Gb
</td>
                </tr>
            </tbody>
        </table>
        <p MadCap:conditions="family.VCS">&#160;</p>
        <p><sup>*</sup><strong>From X8.8</strong>: With X8.8 and later versions, two Large <MadCap:variable name="call_control.VCSShort" /> VMs can co-reside on a UCS&#160;server with two eight-core 3.2 GHz processors all dedicated to Expressway, when hyperthreading is enabled. To allow for hypervisor overhead, the CPU reservation is set to 16000 MHz, but the full allocation of 8x 3.2 GHz CPU cores must be made available to each Large Expressway VM.</p>
        <p>This was not possible before because the previous higher reservation requirement, added to the CPU&#160;requirement for the hypervisor, exceeded the total processing power of the host. The reservation does not limit maximum <MadCap:variable name="call_control.VCSShort" /> CPU&#160;speed, as the <MadCap:variable name="call_control.VCSShort" /> can use the headroom provided by the higher specification host.</p>
        <p MadCap:conditions="family.VCS">For all deployment sizes, you need the following:</p>
        <ul MadCap:conditions="family.VCS">
            <li MadCap:conditions="">
                <p>VM host operational and running a supported ESXi version (see below).</p>
                <p> From X12.5, the <strong><MadCap:variable name="call_control.VCSShort" /> no longer supports ESXi 5.5 or earlier versions.</strong>.</p>
            </li>
            <li MadCap:conditions="">
                <p>VMware vCenter or vSphere client operational. Depending on the client software version, you may need to use the Flash-based version (not HTML5) due to customized template requirements. </p>
                <p> The <strong>desktop vSphere Client is not available from vSphere 6.5 and later</strong>. </p>
            </li>
            <li MadCap:conditions="">Reserved RAM, CPU,&#160;and NIC&#160;as per table above.</li>
            <li MadCap:conditions="">
                <MadCap:snippetBlock src="../z_call_control/snippets/medium_ova_change.flsnp" />
            </li>
        </ul>
        <h3 MadCap:conditions="family.VCS">ESXi Requirements</h3>
        <p MadCap:conditions="output.withheld"><span style="background-color: #ffff00;">FYI</span>. Diff between Vsphere and VMware - VMware vCenter server is a centralized management application that lets you manage virtual machines and ESXi hosts centrally. vSphere client is used to access vCenter Server and ultimately manage ESXi servers. ... vSphere is a product suite, ESXi is a hypervisor installed on a physical machine.</p>
        <p class="note" MadCap:conditions="family.VCS"><span class="note_heading">Note:</span> The minimum versions specified here are subject to VMware support. The versions are correct when this documentation is published, but if VMware subsequently withdraws support for any stated version, you may need to use newer ESXi versions. </p>
        <p class="note" MadCap:conditions="family.VCS">The minimum virtual hardware required to host virtual Expressway deployments is VMware ESXi 6.0. Cisco does not support Expressway VMs hosted on ESXi 5. or earlier (these versions are no longer supported by VMware). </p>
        <p MadCap:conditions="output.withheld" style="color: #000000;font-weight: normal;">OK. Raja says Expressway code validates the minimum hw version; so any version above it shoudl work. Q1. In X8.10 docs we said that ESXi6.5 is required for X8.10.1 and later - is this still the case, or will any 6.0+ host support any version of Expressway now? </p>
        <p class="note" MadCap:conditions="family.VCS">New installations of Expressway OVAs will not run on any host version before ESXi 6.0. </p>
        <p MadCap:conditions="family.VCS">For new Expressway VM deployments, the Expressway OVAs must be installed on an ESXi 6.0, 6.5, or 6.7 host. If you have existing VM&#160;deployments running on an ESXi 5.x version, <b>upgrade the host to ESXi 6.0, 6.5, or 6.7 before you install the new Expressway software</b>. For upgrade instructions, please see your VMware documentation (instructions for upgrading the virtual hardware version of a virtual machine are available in this VMware article: <a href="https://kb.vmware.com/s/article/1010675">https://kb.vmware.com/s/article/1010675</a>).</p>
        <p MadCap:conditions="family.VCS">A known issue exists in ESXi 6.0 which was noticed during our testing. This is resolved in ESXi6.0 Update 1a but if you are installing a non-fixed version, we recommend that you read <a href="http://kb.vmware.com/kb/2124669">http://kb.vmware.com/kb/2124669</a> before you upgrade.</p>
        <p MadCap:conditions="output.withheld">I&#160;asked if still relevant for x12.5. RD says we shld retain it, as still support 6.0 (fyi the VMware article says it's resolved in 6.0 Update 1a, so I mentioned that for x12.5)</p>
        <p MadCap:conditions="family.VCS"><span class="note_heading">Note:</span> If you  migrate an existing VM to a different host, you must shut down the VM before you move it.</p>
        <p MadCap:conditions="output.withheld"> Q3. for x12.5, RD recommended we leave this in   </p>
        <p class="subhead" MadCap:conditions="family.VCS">More information</p>
        <ul>
            <li MadCap:conditions="family.VCS">Instructions about upgrading the VMware virtual hardware are in <a href="http://kb.vmware.com/kb/2124669">http://kb.vmware.com/kb/2124669</a></li>
            <li MadCap:conditions="family.VCS">Instructions about installing new Cisco Expressway VMs are in the <cite>Cisco Expressway on Virtual Machine Installation Guide</cite> on the <a href="http://www.cisco.com/c/en/us/support/unified-communications/expressway-series/products-installation-guides-list.html"><MadCap:variable name="call_control.VCSShort" /> Install and Upgrade Guides page</a></li>
            <li MadCap:conditions="family.VCS">Instructions about how to upgrade a single (non-clustered) Expressway VM are also in the <cite>Cisco Expressway on Virtual Machine Installation Guide</cite></li>
            <li MadCap:conditions="family.VCS">Instructions about upgrading a clustered Expressway VM system are in the <cite>Cisco Expressway Cluster Creation and Maintenance Deployment Guide</cite> on the <a href="http://www.cisco.com/c/en/us/support/unified-communications/expressway-series/products-installation-and-configuration-guides-list.html">Cisco Expressway Series configuration guides  page</a></li>
            <li MadCap:conditions="family.VCS">For information about VMware supported versions, see <a href="https://www.vmware.com/content/dam/digitalmarketing/vmware/en/pdf/support/product-lifecycle-matrix.pdf">https://www.vmware.com/content/dam/digitalmarketing/vmware/en/pdf/support/product-lifecycle-matrix.pdf</a></li>
        </ul>
        <ul MadCap:conditions="family.Conductor">
            <li MadCap:conditions="">VM host operational and running  ESXi 5.5 (or later) or ESXi 6.0</li>
            <li MadCap:conditions="">6GB of RAM per VM&#160;<MadCap:variable name="LocalVariables.ProductShortname" /></li>
            <li MadCap:conditions="">132GB&#160;disk space per VM (for a 4GB virtual disk 1 and a 128GB virtual disk 2)</li>
            <li MadCap:conditions="">2 cores reserved per VM&#160;<MadCap:variable name="LocalVariables.ProductShortname" />; each core &gt;= 2.8GHz processor (5600MHz for 2 vCPUs)</li>
            <li MadCap:conditions="">vCenter or vSphere operational</li>
        </ul>
        <p MadCap:conditions="">If using the vSphere client, configure the network properties through the console.</p>
        <p MadCap:conditions="family.Conductor"><span class="note_heading">Note:</span> ESXi 5.0 is currently not supported. This is because testing identified a problem on a host using ESXi 5.0 and an LSI MegaRAID card. We strongly recommend using ESXi 5.0 (Update 1), which resolves this issue.</p>
        <h2>Co-residency Support</h2>
        <p class="Body">The <MadCap:variable name="LocalVariables.ProductShortname" /> can co-reside with applications (any other VMs occupying same host) subject to the following conditions:</p>
        <ul>
            <li>No oversubscription of CPU. You need one-to-one allocation of vCPU to physical cores.</li>
            <li>No oversubscription of RAM. You need one-to-one allocation of vRAM to physical memory.</li>
            <li MadCap:conditions="family.VCS">
                <p>No oversubscription of NIC. The <MadCap:variable name="LocalVariables.ProductShortname" /> handles large volumes of data, much of which is for real-time communications, and it needs dedicated access to all the bandwidth specified for its interfaces.</p>
                <p>For example, you should not assume that four co-resident small <MadCap:variable name="call_control.VCSShort" /> VMs can handle the expected load if there is only a 1 Gbps physical interface on the host. In this case none of the VMs meet the required minimum specification.</p>
            </li>
            <li>Sharing disk storage subsystem is supported, subject to correct performance (latency, bandwidth) characteristics.</li>
        </ul>
        <div class="note" MadCap:conditions="output.out_of_scope">
            <h3 MadCap:conditions="family.VCS"><a name="HypOvhNote"></a><span class="note_heading">Note:&#160;</span>Hypervisor Overhead</h3>
            <p MadCap:conditions="family.VCS">[OF:&#160;conditioned out of scope because the issue is still not properly understood / tested and this recommendation may push the available capacity below the requirement to meet the stated scale. ref Jay, Jason, leave as is decision]</p>
            <p MadCap:conditions="family.VCS">If your hardware configuration is on or just above the minimum CPU&#160;requirement, the processing capacity required by the Hypervisor could prevent the OVA&#160;from reserving the required CPU capacity, causing the virtual machine not to run.</p>
            <p MadCap:conditions="family.VCS">If you experience this situation, we recommend that you slightly decrease the CPU&#160;reservation of each OVA to allow for the Hypervisor CPU&#160;overhead. </p>
            <p MadCap:conditions="family.VCS">The overhead is typically 1-5% of capacity, so we recommend incrementally decreasing the reservation by 1% at a time, so that you find a point where the reservation is as close as possible to the required spec but allows enough capacity for the Hypervisor. </p>
            <p MadCap:conditions="family.VCS">For example, we would not expect that you need to decrease the reservation of a 3.2GHz CPU&#160;OVA&#160;to below 3.0GHZ (6% decrease).</p>
        </div>
    </body>
</html>